<!DOCTYPE html>
<html lang="fr-FR">
  <head>
    <meta charset="UTF-8">

<!-- Begin Jekyll SEO tag v2.3.0 -->
<title>SpriteSheet Animation | Grégoire hébert - blog</title>
<meta property="og:title" content="SpriteSheet Animation" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Animating spritesheet, is easy when using a software, but what if I want to do it from scratch ? Alright first of all I need a sprite sheet to move this guy:" />
<meta property="og:description" content="Animating spritesheet, is easy when using a software, but what if I want to do it from scratch ? Alright first of all I need a sprite sheet to move this guy:" />
<link rel="canonical" href="http://localhost:4000/front/2018/02/16/animate-spritesheet.html" />
<meta property="og:url" content="http://localhost:4000/front/2018/02/16/animate-spritesheet.html" />
<meta property="og:site_name" content="Grégoire hébert - blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-02-16T21:30:00+01:00" />
<script type="application/ld+json">
{"name":null,"description":"Animating spritesheet, is easy when using a software, but what if I want to do it from scratch ? Alright first of all I need a sprite sheet to move this guy:","author":null,"@type":"BlogPosting","url":"http://localhost:4000/front/2018/02/16/animate-spritesheet.html","publisher":null,"image":null,"headline":"SpriteSheet Animation","dateModified":"2018-02-16T21:30:00+01:00","datePublished":"2018-02-16T21:30:00+01:00","sameAs":null,"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/front/2018/02/16/animate-spritesheet.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#157878">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/assets/css/style.css?v=8c7dc0f52bf117b7a199b88cdcaf47b5c0894232">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name"><a style="color:#fff;" href="http://localhost:4000">Grégoire hébert - blog</a></h1>
      <h2 class="project-tagline"></h2>
    </section>

    <section class="main-content">
      <p>Animating spritesheet, is easy when using a software, but what if I want to do it from scratch ?
Alright first of all I need a sprite sheet to move this guy:</p>

<p><img src="http://localhost:4000/assets/animate-spritesheet/2.png" alt="My sheep" /></p>

<p>Let’s start with a walk to stay fit :)</p>

<p><img src="http://localhost:4000/assets/animate-spritesheet/1.png" alt="My spritesheet" /></p>

<p>and now we are ready to begin our journey.
Let’s start display our image.</p>

<p>Ok, my image is 2095x1089 pixels. So my sheep is 419x363px.</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;html&gt;</span>
	<span class="nt">&lt;head&gt;</span>
		<span class="nt">&lt;style </span><span class="na">type=</span><span class="s">"text/css"</span><span class="nt">&gt;</span>
			<span class="nf">#sheep</span> <span class="p">{</span>
			  <span class="nl">width</span><span class="p">:</span> <span class="m">419px</span><span class="p">;</span>
			  <span class="nl">height</span><span class="p">:</span> <span class="m">363px</span><span class="p">;</span>
			  <span class="nl">background</span><span class="p">:</span> <span class="sx">url('spritesheets/white_sheep_1/__white_sheep_1_walk.png')</span> <span class="nb">left</span> <span class="nb">center</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="nt">&lt;/style&gt;</span>
	<span class="nt">&lt;/head&gt;</span>
	<span class="nt">&lt;body&gt;</span>
		<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"sheep"</span><span class="nt">&gt;&lt;/div&gt;</span>
	<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span></code></pre></figure>

<p><img src="http://localhost:4000/assets/animate-spritesheet/2.png" alt="My sheep" /></p>

<p>Now, I need to display successively each frame.
there is 3 rows of 5 images, 15 frames then !</p>

<figure class="highlight"><pre><code class="language-css" data-lang="css"><span class="nf">#sheep</span> <span class="p">{</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">419px</span><span class="p">;</span>
  <span class="nl">height</span><span class="p">:</span> <span class="m">363px</span><span class="p">;</span>
  <span class="nl">background</span><span class="p">:</span> <span class="sx">url('spritesheets/white_sheep_1/__white_sheep_1_walk.png')</span> <span class="nb">left</span> <span class="nb">center</span><span class="p">;</span>
  <span class="nl">animation</span><span class="p">:</span> <span class="n">play</span> <span class="m">0.8s</span> <span class="n">steps</span><span class="p">(</span><span class="m">15</span><span class="p">)</span> <span class="n">infinite</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">@keyframes</span> <span class="n">play</span> <span class="p">{</span>
   <span class="nt">100</span><span class="o">%</span> <span class="p">{</span> <span class="nl">background-position</span><span class="p">:</span> <span class="m">-2095px</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>it’ll loop for ever thanks to the infinite instruction, and the keyframe allow us to define the width limit.
let’s see:</p>

<p><img src="http://localhost:4000/assets/animate-spritesheet/3.gif" alt="oops" /></p>

<p>ok, here, the loop only contain the first row… it doesn’t goes on the second row.
well what if we use a grid and we navigate through it ?
Let’s try this full size.</p>

<figure class="highlight"><pre><code class="language-css" data-lang="css"><span class="nf">#sheep</span> <span class="p">{</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">2095px</span><span class="p">;</span>
  <span class="nl">height</span><span class="p">:</span> <span class="m">1089px</span><span class="p">;</span>
  <span class="nl">background</span><span class="p">:</span> <span class="sx">url('spritesheets/white_sheep_1/__white_sheep_1_walk.png')</span> <span class="nb">left</span> <span class="nb">center</span><span class="p">;</span>
  <span class="nl">position</span><span class="p">:</span> <span class="nb">relative</span><span class="p">;</span>
<span class="p">}</span>

<span class="nf">#sheep</span><span class="nd">:before</span> <span class="p">{</span>
    <span class="nl">content</span><span class="p">:</span> <span class="s1">""</span><span class="p">;</span>
    <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span>
    <span class="nl">width</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
    <span class="nl">height</span><span class="p">:</span> <span class="m">363px</span><span class="p">;</span>
    <span class="nl">left</span><span class="p">:</span> <span class="m">0px</span><span class="p">;</span>
    <span class="nl">top</span><span class="p">:</span> <span class="m">0px</span><span class="p">;</span>
    <span class="nl">border</span><span class="p">:</span> <span class="nb">solid</span> <span class="m">1px</span> <span class="no">red</span><span class="p">;</span>
    <span class="nl">-webkit-animation</span><span class="p">:</span> <span class="n">playvertical</span> <span class="m">2s</span> <span class="n">steps</span><span class="p">(</span><span class="m">3</span><span class="p">)</span> <span class="n">infinite</span><span class="p">;</span> 
<span class="p">}</span>

<span class="k">@-webkit-keyframes</span> <span class="n">playvertical</span> <span class="p">{</span>
     <span class="nt">0</span><span class="o">%</span> <span class="p">{</span> <span class="nl">top</span><span class="p">:</span>   <span class="m">0px</span><span class="p">;</span> <span class="p">}</span>
   <span class="nt">100</span><span class="o">%</span> <span class="p">{</span> <span class="nl">top</span><span class="p">:</span> <span class="m">1089px</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>here we’ve got our vertical lines.</p>

<p><img src="http://localhost:4000/assets/animate-spritesheet/4.gif" alt="vertical Lines" /></p>

<p>and we add the same rule for the horizontal lines.</p>

<figure class="highlight"><pre><code class="language-css" data-lang="css"><span class="nf">#sheep</span><span class="nd">:after</span> <span class="p">{</span>
    <span class="nl">content</span><span class="p">:</span> <span class="s1">""</span><span class="p">;</span>
    <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span>
    <span class="nl">width</span><span class="p">:</span> <span class="m">419px</span><span class="p">;</span>
    <span class="nl">height</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
    <span class="nl">left</span><span class="p">:</span> <span class="m">0px</span><span class="p">;</span>
    <span class="nl">top</span><span class="p">:</span> <span class="m">0px</span><span class="p">;</span>
    <span class="nl">border</span><span class="p">:</span> <span class="nb">solid</span> <span class="m">1px</span> <span class="no">red</span><span class="p">;</span>
    <span class="nl">-webkit-animation</span><span class="p">:</span> <span class="n">playhorizontal</span> <span class="m">3s</span> <span class="n">steps</span><span class="p">(</span><span class="m">5</span><span class="p">)</span> <span class="n">infinite</span><span class="p">;</span> 
<span class="p">}</span>

<span class="k">@-webkit-keyframes</span> <span class="n">playhorizontal</span> <span class="p">{</span>
     <span class="nt">0</span><span class="o">%</span> <span class="p">{</span> <span class="nl">left</span><span class="p">:</span>   <span class="m">0px</span><span class="p">;</span> <span class="p">}</span>
   <span class="nt">100</span><span class="o">%</span> <span class="p">{</span> <span class="nl">left</span><span class="p">:</span> <span class="m">2095px</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p><img src="http://localhost:4000/assets/animate-spritesheet/5.gif" alt="Full Grid" /></p>

<p>You can see we got here the idea of running through each image.
Let’s unite the two seperate animation in the same instruction and border only each frame after another.</p>

<figure class="highlight"><pre><code class="language-css" data-lang="css"><span class="nf">#sheep</span> <span class="p">{</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">2095px</span><span class="p">;</span>
  <span class="nl">height</span><span class="p">:</span> <span class="m">1089px</span><span class="p">;</span>
  <span class="nl">background</span><span class="p">:</span> <span class="sx">url('spritesheets/white_sheep_1/__white_sheep_1_walk.png')</span> <span class="nb">left</span> <span class="nb">center</span><span class="p">;</span>
  <span class="nl">position</span><span class="p">:</span> <span class="nb">relative</span><span class="p">;</span>
<span class="p">}</span>

<span class="nf">#sheep</span><span class="nd">:before</span> <span class="p">{</span>
    <span class="nl">content</span><span class="p">:</span> <span class="s1">""</span><span class="p">;</span>
    <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span>
    <span class="nl">width</span><span class="p">:</span> <span class="m">419px</span><span class="p">;</span>
    <span class="nl">height</span><span class="p">:</span> <span class="m">363px</span><span class="p">;</span>
    <span class="nl">left</span><span class="p">:</span> <span class="m">0px</span><span class="p">;</span>
    <span class="nl">top</span><span class="p">:</span> <span class="m">0px</span><span class="p">;</span>
    <span class="nl">border</span><span class="p">:</span> <span class="nb">solid</span> <span class="m">1px</span> <span class="no">red</span><span class="p">;</span>
    <span class="nl">-webkit-animation</span><span class="p">:</span> <span class="n">playvertical</span> <span class="m">9s</span> <span class="n">steps</span><span class="p">(</span><span class="m">3</span><span class="p">)</span> <span class="n">infinite</span><span class="p">,</span> <span class="n">playhorizontal</span> <span class="m">3s</span> <span class="n">steps</span><span class="p">(</span><span class="m">5</span><span class="p">)</span> <span class="n">infinite</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">@-webkit-keyframes</span> <span class="n">playvertical</span> <span class="p">{</span>
     <span class="nt">0</span><span class="o">%</span> <span class="p">{</span> <span class="nl">top</span><span class="p">:</span>   <span class="m">0px</span><span class="p">;</span> <span class="p">}</span>
   <span class="nt">100</span><span class="o">%</span> <span class="p">{</span> <span class="nl">top</span><span class="p">:</span> <span class="m">1089px</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>

<span class="k">@-webkit-keyframes</span> <span class="n">playhorizontal</span> <span class="p">{</span>
     <span class="nt">0</span><span class="o">%</span> <span class="p">{</span> <span class="nl">left</span><span class="p">:</span>   <span class="m">0px</span><span class="p">;</span> <span class="p">}</span>
   <span class="nt">100</span><span class="o">%</span> <span class="p">{</span> <span class="nl">left</span><span class="p">:</span> <span class="m">2095px</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p><img src="http://localhost:4000/assets/animate-spritesheet/6.gif" alt="Frame Selection" /></p>

<p>Now we can remove the red line and replace the animation directly on the sheep div.
We don’t need the left center alignment for the background anymore.
Last thing to change is the keyframe, instead of changing the top or left position of the lines,
we want to move the background position.</p>

<figure class="highlight"><pre><code class="language-css" data-lang="css"><span class="nf">#sheep</span> <span class="p">{</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">419px</span><span class="p">;</span>
  <span class="nl">height</span><span class="p">:</span> <span class="m">363px</span><span class="p">;</span>
  <span class="nl">background</span><span class="p">:</span> <span class="sx">url('spritesheets/white_sheep_1/__white_sheep_1_walk.png')</span><span class="p">;</span>
  <span class="nl">position</span><span class="p">:</span> <span class="nb">relative</span><span class="p">;</span>
  <span class="nl">-webkit-animation</span><span class="p">:</span> <span class="n">playvertical</span> <span class="m">0.9s</span> <span class="n">steps</span><span class="p">(</span><span class="m">3</span><span class="p">)</span> <span class="n">infinite</span><span class="p">,</span> <span class="n">playhorizontal</span> <span class="m">0.3s</span> <span class="n">steps</span><span class="p">(</span><span class="m">5</span><span class="p">)</span> <span class="n">infinite</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">@-webkit-keyframes</span> <span class="n">playvertical</span> <span class="p">{</span>
     <span class="nt">0</span><span class="o">%</span> <span class="p">{</span> <span class="py">background-position-y</span><span class="p">:</span>   <span class="m">0px</span><span class="p">;</span> <span class="p">}</span>
   <span class="nt">100</span><span class="o">%</span> <span class="p">{</span> <span class="py">background-position-y</span><span class="p">:</span> <span class="m">-1089px</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>

<span class="k">@-webkit-keyframes</span> <span class="n">playhorizontal</span> <span class="p">{</span>
     <span class="nt">0</span><span class="o">%</span> <span class="p">{</span> <span class="py">background-position-x</span><span class="p">:</span>   <span class="m">0px</span><span class="p">;</span> <span class="p">}</span>
   <span class="nt">100</span><span class="o">%</span> <span class="p">{</span> <span class="py">background-position-x</span><span class="p">:</span> <span class="m">-2095px</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p><img src="http://localhost:4000/assets/animate-spritesheet/7.gif" alt="Full Animation" /></p>

<p>Whouhouu !
We can now apply the same rule to every animation we got.
Little specificity, sometimes you need to stop the animation on the last frame.
The solution is to act as if there was 1 frame less than it should and add the forwards instruction.
The forwards key tells the animation to go one frame further (the last one we want) and stop there.</p>

<figure class="highlight"><pre><code class="language-css" data-lang="css"><span class="nf">#die</span> <span class="p">{</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">419px</span><span class="p">;</span>
  <span class="nl">height</span><span class="p">:</span> <span class="m">363px</span><span class="p">;</span>
  <span class="nl">background</span><span class="p">:</span> <span class="sx">url('spritesheets/white_sheep_1/__white_sheep_1_die.png')</span><span class="p">;</span>
  <span class="nl">-webkit-animation</span><span class="p">:</span> <span class="n">die</span> <span class="m">0.6s</span> <span class="n">steps</span><span class="p">(</span><span class="m">4</span><span class="p">);</span>
  <span class="nl">-webkit-animation-fill-mode</span><span class="p">:</span> <span class="n">forwards</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">@-webkit-keyframes</span> <span class="n">die</span> <span class="p">{</span>
     <span class="nt">0</span><span class="o">%</span> <span class="p">{</span> <span class="py">background-position-x</span><span class="p">:</span>   <span class="m">0px</span><span class="p">;</span> <span class="p">}</span>
   <span class="nt">100</span><span class="o">%</span> <span class="p">{</span> <span class="py">background-position-x</span><span class="p">:</span> <span class="m">-1676px</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>Here is the result</p>

<p><img src="http://localhost:4000/assets/animate-spritesheet/8.gif" alt="Every Animation" /></p>

<p>Thanks !</p>


      <footer class="site-footer">
        
          <span class="site-footer-owner"><a href="http://localhost:4000">http://localhost:4000</a> is maintained by <a href="http://github.com/GregoireHebert">GregoireHebert</a>.</span>
        
        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</span>
      </footer>
    </section>

    
      <script type="text/javascript">
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-45648310-1', 'auto');
        ga('send', 'pageview');
      </script>
    
  </body>
</html>